(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{1711:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-fab-transition",[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms",value:t.perms,expression:"perms"}],key:"add",attrs:{color:"accent",fab:"",fixed:"",bottom:"",right:""},on:{click:t.addToList}},[s("v-icon",{attrs:{color:"white"}},[t._v("\n      add\n    ")])],1)],1)},a=[],r={props:{perms:{type:String,required:!0}},methods:{addToList:function(){this.$emit("add-to-list")}}},n=r,o=(s("980a"),s("2877")),l=s("6544"),c=s.n(l),d=s("8336"),u=s("0789"),m=s("132d"),p=Object(o["a"])(n,i,a,!1,null,null,null);e["a"]=p.exports;c()(p,{VBtn:d["a"],VFabTransition:u["b"],VIcon:m["a"]})},"386d":function(t,e,s){"use strict";var i=s("cb7c"),a=s("83a1"),r=s("5f1b");s("214f")("search",1,(function(t,e,s,n){return[function(s){var i=t(this),a=void 0==s?void 0:s[e];return void 0!==a?a.call(s,i):new RegExp(s)[e](String(i))},function(t){var e=n(s,t,this);if(e.done)return e.value;var o=i(t),l=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var d=r(o,l);return a(o.lastIndex,c)||(o.lastIndex=c),null===d?-1:d.index}]}))},"58f1":function(t,e,s){},"696f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"groups"},[s("group-list")],1)},a=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.listbox,callback:function(e){t.listbox=e},expression:"listbox"}},[s("v-form",{ref:"form"},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("\n            "+t._s(t.$t("AddRemoveUsers"))+"\n          ")])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs9:""}},[s("v-autocomplete",{attrs:{disabled:t.isLoading,items:t.allUsers,autofocus:"",box:"",chips:"",label:t.$t("Addusers"),"item-text":"name","item-value":"id"},on:{change:t.addUser},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{staticClass:"chip--select-multi",attrs:{selected:e.selected,close:""},on:{input:function(s){return t.removeUser(e.item)}}},[s("v-icon",[t._v("person")]),t._v("\n                      "+t._s(e.item.name)+"\n                    ")],1)]}},{key:"item",fn:function(e){return["object"!==typeof e.item?[s("v-list-tile-content",{domProps:{textContent:t._s(e.item)}})]:[s("v-list-tile-avatar",[s("v-icon",[t._v("person")])],1),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.name)}}),s("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.item.email)}})],1)]]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)],1),s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("div",{staticClass:"headline"},[t._v("\n              "+t._s(t.groupName)+"\n            ")]),s("span",[t._v(t._s(t.$t("UsersInGroup")))])])]),s("v-list",t._l(t.groupUsers,(function(e){return s("v-list-tile",{key:e.id,attrs:{avatar:""},on:{click:function(s){return t.removeUser(e.id)}}},[s("v-list-tile-avatar",[s("v-icon",[t._v("person")])],1),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{innerHTML:t._s(e.name)}}),s("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.login)}})],1),s("v-list-tile-action",[s("v-icon",[t._v("\n                "+t._s("active"==e.status?"remove_circle":"remove_circle_outline")+"\n              ")])],1)],1)})),1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("\n            Close\n          ")])],1)],1)],1)],1),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-form",{ref:"form"},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("\n            "+t._s(t.formTitle)+"\n          ")])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[s("v-chip",{directives:[{name:"show",rawName:"v-show",value:t.editedItem.name,expression:"editedItem.name"}],attrs:{close:""},on:{click:function(e){t.editedItem.name=null}}},[s("strong",[t._v(t._s(t.editedItem.name))]),t._v("Â \n                  "),s("span",[t._v("("+t._s(t.$t("group"))+")")])])],1),s("v-text-field",{attrs:{label:t.$t("Group"),rules:[t.rules.required],required:""},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name","string"===typeof e?e.trim():e)},expression:"editedItem.name"}}),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:t.$t("Description")},model:{value:t.editedItem.text,callback:function(e){t.$set(t.editedItem,"text","string"===typeof e?e.trim():e)},expression:"editedItem.text"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("\n            "+t._s(t.$t("Cancel"))+"\n          ")]),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.validate}},[t._v("\n            "+t._s(t.$t("Save"))+"\n          ")])],1)],1)],1)],1),s("v-card",[s("v-card-title",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Groups"))+"\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.groups,pagination:t.pagination,"total-items":t.pagination.totalItems,"rows-per-page-items":t.pagination.rowsPerPageItems,loading:t.isLoading,"must-sort":"","sort-icon":"arrow_drop_down"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),s("td",{staticClass:"text-xs-left"},[t._v("\n          "+t._s(e.item.text)+"\n        ")]),s("td",[t._v("\n          "+t._s(e.item.count)+"\n        ")]),s("td",{staticClass:"text-no-wrap"},[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:groups",expression:"'admin:groups'",modifiers:{disable:!0}}],staticClass:"btn--plain mr-0",attrs:{icon:""},on:{click:function(s){return t.editItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              edit\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:groups",expression:"'admin:groups'",modifiers:{disable:!0}}],staticClass:"btn--plain mr-0",attrs:{icon:""},on:{click:function(s){return t.addRemoveUsers(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              person_add\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:groups",expression:"'admin:groups'",modifiers:{disable:!0}}],staticClass:"btn--plain mx-0",attrs:{icon:""},on:{click:function(s){return t.deleteItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              delete\n            ")])],1)],1)]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          "+t._s(t.$t("NoDisplay"))+"\n        ")])],1),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v("\n        "+t._s(t.$t("SearchNoResult1"))+' "'+t._s(t.search)+'" '+t._s(t.$t("SearchNoResult2"))+"\n      ")])],2)],1),s("list-button-add",{directives:[{name:"show",rawName:"v-show",value:t.isBasicAuth,expression:"isBasicAuth"}],attrs:{perms:"admin:groups"},on:{"add-to-list":function(e){t.dialog=!0}}})],1)},m=[],p=(s("7f7f"),s("6b54"),s("6762"),s("2fdb"),s("ac6a"),s("456d"),s("386d"),s("1711")),v=s("fe0b"),f={components:{ListButtonAdd:p["a"]},data:function(t){return{search:"",dialog:!1,headers:[{text:v["a"].t("Name"),value:"name"},{text:v["a"].t("Description"),value:"text"},{text:v["a"].t("NumberUsers"),value:"count"},{text:v["a"].t("Actions"),value:"actions",sortable:!1}],editedId:null,editedItem:{name:null,text:""},menu1:!1,menu2:!1,defaultItem:{name:null,text:""},rules:{required:function(t){return!!t||v["a"].t("Required")}},groupId:null,groupName:"",listbox:!1,selected:null}},computed:{isBasicAuth:function(){return"basic"==this.$config.provider},groups:function(){var t=this;return this.$store.state.groups.groups.filter((function(e){return!t.search||Object.keys(e).some((function(s){return e[s]&&e[s].toString().includes(t.search)}))}))},pagination:{get:function(){return this.$store.getters["groups/pagination"]},set:function(t){this.$store.dispatch("groups/setPagination",t)}},groupUsers:function(){return this.$store.state.groups.users},allUsers:function(){return this.$store.state.users.users},isLoading:function(){return this.$store.state.groups.isLoading},formTitle:function(){return this.editedId?v["a"].t("EditGroup"):v["a"].t("NewGroup")},refresh:function(){return this.$store.state.refresh}},watch:{dialog:function(t){t||this.close()},refresh:function(t){t||this.getGroups()},pagination:{handler:function(){this.getGroups()},deep:!0}},created:function(){this.getUsers(),this.getGroups()},methods:{getUsers:function(){this.$store.dispatch("users/getUsers")},getGroups:function(){this.$store.dispatch("groups/getGroups")},getGroupUsers:function(t){this.$store.dispatch("groups/getGroupUsers",t)},editItem:function(t){this.editedId=t.id,this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){confirm(v["a"].t("ConfirmDelete"))&&this.$store.dispatch("groups/deleteGroup",t.id)},close:function(){var t=this;this.dialog=!1,this.listbox=!1,setTimeout((function(){t.$refs.form.reset(),t.editedItem=Object.assign({},t.defaultItem),t.editedId=null,t.groupId=null,t.groupName="",t.$store.dispatch("groups/clearGroupUsers")}),300)},validate:function(){this.$refs.form.validate()&&(this.$refs.form.resetValidation(),this.save())},save:function(){this.editedId?this.$store.dispatch("groups/updateGroup",[this.editedId,{name:this.editedItem.name,text:this.editedItem.text}]):this.$store.dispatch("groups/createGroup",this.editedItem),this.close()},addRemoveUsers:function(t){this.groupId=t.id,this.groupName=t.name,this.getGroupUsers(this.groupId),this.listbox=!0},addUser:function(t){var e=this;this.$store.dispatch("groups/addUserToGroup",[this.groupId,t]),setTimeout((function(){e.$refs.form.reset(),e.selected=null}),300)},removeUser:function(t){this.$store.dispatch("groups/removeUserFromGroup",[this.groupId,t])}}},h=f,g=(s("e585"),s("2877")),b=s("6544"),_=s.n(b),x=s("0798"),I=s("c6a6"),$=s("8336"),w=s("b0af"),k=s("99d9"),C=s("12b2"),V=s("cc20"),y=s("a523"),S=s("8fea"),T=s("169a"),O=s("0e8f"),j=s("4bd4"),P=s("132d"),L=s("a722"),N=s("8860"),U=s("ba95"),A=s("40fe"),G=s("c954"),R=s("5d23"),B=s("9910"),q=s("2677"),D=Object(g["a"])(h,u,m,!1,null,"0413c87e",null),E=D.exports;_()(D,{VAlert:x["a"],VAutocomplete:I["a"],VBtn:$["a"],VCard:w["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:C["a"],VChip:V["a"],VContainer:y["a"],VDataTable:S["a"],VDialog:T["a"],VFlex:O["a"],VForm:j["a"],VIcon:P["a"],VLayout:L["a"],VList:N["a"],VListTile:U["a"],VListTileAction:A["a"],VListTileAvatar:G["a"],VListTileContent:R["a"],VListTileSubTitle:R["b"],VListTileTitle:R["c"],VSpacer:B["a"],VTextField:q["a"]});var F=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);F=Object(c["a"])([Object(d["a"])({components:{GroupList:E}})],F);var M=F,H=M,J=Object(g["a"])(H,i,a,!1,null,null,null);e["default"]=J.exports},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"934c":function(t,e,s){},"980a":function(t,e,s){"use strict";var i=s("d86b"),a=s.n(i);a.a},a0d4:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"perms"},[s("perm-list")],1)},a=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-form",{ref:"form"},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("\n            "+t._s(t.formTitle)+"\n          ")])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[s("v-chip",{directives:[{name:"show",rawName:"v-show",value:t.editedItem.match,expression:"editedItem.match"}],attrs:{close:""},on:{click:function(e){t.editedItem.match=null}}},[s("strong",[t._v(t._s(t.editedItem.match))]),t._v("Â \n                  "),s("span",[t._v("("+t._s(t.$t("role"))+")")])])],1),s("v-text-field",{attrs:{label:t.$t("Role"),rules:[t.rules.required],required:""},model:{value:t.editedItem.match,callback:function(e){t.$set(t.editedItem,"match","string"===typeof e?e.trim():e)},expression:"editedItem.match"}}),s("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[s("v-autocomplete",{attrs:{items:t.allowedScopes,label:t.$t("Scopes"),chips:"",clearable:"",solo:"",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{attrs:{selected:e.selected,close:""}},[s("strong",[t._v(t._s(e.item))]),t._v("Â \n                      "),s("span",[t._v("("+t._s(t.$t("scope"))+")")])])]}}]),model:{value:t.editedItem.scopes,callback:function(e){t.$set(t.editedItem,"scopes",e)},expression:"editedItem.scopes"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("\n            "+t._s(t.$t("Cancel"))+"\n          ")]),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.validate}},[t._v("\n            "+t._s(t.$t("Save"))+"\n          ")])],1)],1)],1)],1),s("v-card",[s("v-card-title",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Permissions"))+"\n      "),s("v-spacer"),s("v-flex",{staticClass:"mr-3 pt-3",attrs:{xs3:""}},[s("v-autocomplete",{attrs:{items:t.scopes,label:t.$t("Scopes"),chips:"",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{attrs:{selected:e.selected,close:""}},[s("strong",[t._v(t._s(e.item))]),t._v("Â \n              "),s("span",[t._v("("+t._s(t.$t("scope"))+")")])])]}}]),model:{value:t.wantScopes,callback:function(e){t.wantScopes=e},expression:"wantScopes"}})],1),s("v-flex",{attrs:{xs6:""}},[s("v-text-field",{attrs:{"append-icon":"search",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.perms,pagination:t.pagination,"total-items":t.pagination.totalItems,"rows-per-page-items":t.pagination.rowsPerPageItems,loading:t.isLoading,"must-sort":"","sort-icon":"arrow_drop_down"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[s("v-chip",{attrs:{small:""}},[s("strong",[t._v(t._s(e.item.match))]),t._v("Â \n            "),s("span",[t._v("("+t._s(t.$t("role"))+")")])]),s("v-tooltip",{attrs:{top:""}},[t.systemRoles.includes(e.item.match)?s("v-icon",{attrs:{slot:"activator",small:""},slot:"activator"},[t._v("\n              lock\n            ")]):t._e(),s("span",[t._v(t._s(t.$t("SystemRole")))])],1)],1),s("td",t._l(e.item.scopes,(function(e){return s("v-chip",{key:e,attrs:{small:""}},[s("strong",[t._v(t._s(e))]),t._v("Â \n            "),s("span",[t._v("("+t._s(t.$t("scope"))+")")])])})),1),s("td",{staticClass:"text-no-wrap"},[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:perms",expression:"'admin:perms'",modifiers:{disable:!0}}],staticClass:"btn--plain mr-0",attrs:{icon:"",disabled:t.systemRoles.includes(e.item.match)},on:{click:function(s){return t.editItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              edit\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:perms",expression:"'admin:perms'",modifiers:{disable:!0}}],staticClass:"btn--plain mx-0",attrs:{icon:"",disabled:t.systemRoles.includes(e.item.match)},on:{click:function(s){return t.deleteItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              delete\n            ")])],1)],1)]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          "+t._s(t.$t("NoDisplay"))+"\n        ")])],1),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v("\n        "+t._s(t.$t("SearchNoResult1"))+' "'+t._s(t.search)+'" '+t._s(t.$t("SearchNoResult2"))+"\n      ")])],2)],1),s("list-button-add",{attrs:{perms:"admin:perms"},on:{"add-to-list":function(e){t.dialog=!0}}})],1)},m=[],p=(s("4917"),s("6b54"),s("ac6a"),s("456d"),s("386d"),s("6762"),s("2fdb"),s("1711")),v=s("fe0b"),f=s("b74e"),h={components:{ListButtonAdd:p["a"]},data:function(){return{systemRoles:["admin","user","guest"],search:"",wantScopes:[],dialog:!1,headers:[{text:v["a"].t("Role"),value:"match"},{text:v["a"].t("Scopes"),value:"scopes"},{text:v["a"].t("Actions"),value:"name",sortable:!1}],editedId:null,editedItem:{match:"",scopes:[]},defaultItem:{match:"",scopes:[]},rules:{required:function(t){return!!t||v["a"].t("Required")}}}},computed:{perms:function(){var t=this;return this.$store.state.perms.permissions.filter((function(e){return!(t.wantScopes.length>0)||e.scopes.some((function(e){return t.wantScopes.includes(e)}))})).filter((function(e){return!t.search||Object.keys(e).some((function(s){return e[s]&&e[s].toString().includes(t.search)}))}))},scopes:function(){return this.$store.state.perms.scopes},pagination:{get:function(){return this.$store.getters["perms/pagination"]},set:function(t){this.$store.dispatch("perms/setPagination",t)}},allowedScopes:function(){return f["a"].getAllowedScopes(this.$store.getters["auth/scopes"],this.$store.state.perms.scopes)},isLoading:function(){return this.$store.state.perms.isLoading},formTitle:function(){return this.editedId?v["a"].t("EditPermission"):v["a"].t("NewPermission")},refresh:function(){return this.$store.state.refresh}},watch:{dialog:function(t){t||this.close()},refresh:function(t){t||this.getPerms()},pagination:{handler:function(){this.getPerms()},deep:!0}},created:function(){this.getPerms(),this.getScopes()},methods:{getPerms:function(){this.$store.dispatch("perms/getPerms")},getScopes:function(){this.$store.dispatch("perms/getScopes")},editItem:function(t){this.editedId=t.id,this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){confirm(v["a"].t("ConfirmDelete"))&&this.$store.dispatch("perms/deletePerm",t.id)},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.$refs.form.reset(),t.editedItem=Object.assign({},t.defaultItem),t.editedId=null}),300)},validate:function(){this.$refs.form.validate()&&(this.$refs.form.resetValidation(),this.save())},save:function(){this.editedId?this.$store.dispatch("perms/updatePerm",[this.editedId,{match:this.editedItem.match,scopes:this.editedItem.scopes}]):this.$store.dispatch("perms/createPerm",this.editedItem),this.close()}}},g=h,b=s("2877"),_=s("6544"),x=s.n(_),I=s("0798"),$=s("c6a6"),w=s("8336"),k=s("b0af"),C=s("99d9"),V=s("12b2"),y=s("cc20"),S=s("a523"),T=s("8fea"),O=s("169a"),j=s("0e8f"),P=s("4bd4"),L=s("132d"),N=s("a722"),U=s("9910"),A=s("2677"),G=s("3a2f"),R=Object(b["a"])(g,u,m,!1,null,null,null),B=R.exports;x()(R,{VAlert:I["a"],VAutocomplete:$["a"],VBtn:w["a"],VCard:k["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:V["a"],VChip:y["a"],VContainer:S["a"],VDataTable:T["a"],VDialog:O["a"],VFlex:j["a"],VForm:P["a"],VIcon:L["a"],VLayout:N["a"],VSpacer:U["a"],VTextField:A["a"],VTooltip:G["a"]});var q=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);q=Object(c["a"])([Object(d["a"])({components:{PermList:B}})],q);var D=q,E=D,F=Object(b["a"])(E,i,a,!1,null,null,null);e["default"]=F.exports},a609:function(t,e,s){"use strict";s("934c");var i=s("604c"),a=i["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},props:{activeClass:{type:String,default:"v-btn--active"}},computed:{classes:function(){return i["a"].options.computed.classes.call(this)}}}),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t};e["a"]=a.extend({name:"v-btn-toggle",props:{activeClass:{type:String,default:"v-btn--active"}},computed:{classes:function(){return r({},a.options.computed.classes.call(this),{"v-btn-toggle":!0,"v-btn-toggle--only-child":1===this.selectedItems.length,"v-btn-toggle--selected":this.selectedItems.length>0})}}})},d86b:function(t,e,s){},dfe8:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customers"},[s("customer-list")],1)},a=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-form",{ref:"form"},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("\n            "+t._s(t.formTitle)+"\n          ")])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:t.$t("LookUp"),hint:t.$t("LookUpDescription"),"persistent-hint":"",rules:[t.rules.required],required:""},model:{value:t.editedItem.match,callback:function(e){t.$set(t.editedItem,"match","string"===typeof e?e.trim():e)},expression:"editedItem.match"}}),s("v-flex",{attrs:{xs12:""}},[s("v-chip",{directives:[{name:"show",rawName:"v-show",value:t.editedItem.customer,expression:"editedItem.customer"}],attrs:{close:""},on:{click:function(e){t.editedItem.customer=null}}},[s("strong",[t._v(t._s(t.editedItem.customer))]),t._v("Â \n                    "),s("span",[t._v("("+t._s(t.$t("customer"))+")")])])],1),s("v-text-field",{attrs:{label:t.$t("Customer"),rules:[t.rules.required],required:""},model:{value:t.editedItem.customer,callback:function(e){t.$set(t.editedItem,"customer","string"===typeof e?e.trim():e)},expression:"editedItem.customer"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("\n            "+t._s(t.$t("Cancel"))+"\n          ")]),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.validate}},[t._v("\n            "+t._s(t.$t("Save"))+"\n          ")])],1)],1)],1)],1),s("v-card",[s("v-card-title",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Customers"))+"\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.customers,pagination:t.pagination,"total-items":t.pagination.totalItems,"rows-per-page-items":t.pagination.rowsPerPageItems,loading:t.isLoading,"must-sort":"","sort-icon":"arrow_drop_down"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.match))]),s("td",[s("v-chip",[s("strong",[t._v(t._s(e.item.customer))]),t._v("Â \n            "),s("span",[t._v("("+t._s(t.$t("customer"))+")")])])],1),s("td",{staticClass:"text-no-wrap"},[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:customers",expression:"'admin:customers'",modifiers:{disable:!0}}],staticClass:"btn--plain mr-0",attrs:{icon:""},on:{click:function(s){return t.editItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              edit\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:customers",expression:"'admin:customers'",modifiers:{disable:!0}}],staticClass:"btn--plain mx-0",attrs:{icon:""},on:{click:function(s){return t.deleteItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              delete\n            ")])],1)],1)]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          "+t._s(t.$t("NoDisplay"))+"\n        ")])],1),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v("\n        "+t._s(t.$t("SearchNoResult1"))+' "'+t._s(t.search)+'" '+t._s(t.$t("SearchNoResult2"))+"\n      ")])],2)],1),s("list-button-add",{attrs:{perms:"admin:customers"},on:{"add-to-list":function(e){t.dialog=!0}}})],1)},m=[],p=(s("4917"),s("6b54"),s("6762"),s("2fdb"),s("ac6a"),s("456d"),s("386d"),s("1711")),v=s("fe0b"),f={components:{ListButtonAdd:p["a"]},data:function(){return{search:"",dialog:!1,headers:[{text:v["a"].t("LookUp"),value:"match"},{text:v["a"].t("Customer"),value:"customer"},{text:v["a"].t("Actions"),value:"name",sortable:!1}],editedId:null,editedItem:{match:null,customer:null},defaultItem:{match:null,customer:null},rules:{required:function(t){return!!t||v["a"].t("Required")}}}},computed:{customers:function(){var t=this;return this.$store.state.customers.customers.filter((function(e){return!t.search||Object.keys(e).some((function(s){return e[s]&&e[s].toString().includes(t.search)}))}))},pagination:{get:function(){return this.$store.getters["customers/pagination"]},set:function(t){this.$store.dispatch("customers/setPagination",t)}},isLoading:function(){return this.$store.state.customers.isLoading},formTitle:function(){return this.editedId?v["a"].t("EditCustomer"):v["a"].t("NewCustomer")},refresh:function(){return this.$store.state.refresh}},watch:{dialog:function(t){t||this.close()},refresh:function(t){t||this.getCustomers()},pagination:{handler:function(){this.getCustomers()},deep:!0}},created:function(){this.getCustomers()},methods:{getCustomers:function(){this.$store.dispatch("customers/getCustomers")},editItem:function(t){this.editedId=t.id,this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){confirm(v["a"].t("ConfirmDelete"))&&this.$store.dispatch("customers/deleteCustomer",t.id)},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.$refs.form.reset(),t.editedItem=Object.assign({},t.defaultItem),t.editedId=null}),300)},validate:function(){this.$refs.form.validate()&&(this.$refs.form.resetValidation(),this.save())},save:function(){this.editedId?this.$store.dispatch("customers/updateCustomer",[this.editedId,{match:this.editedItem.match,customer:this.editedItem.customer}]):this.$store.dispatch("customers/createCustomer",this.editedItem),this.close()}}},h=f,g=s("2877"),b=s("6544"),_=s.n(b),x=s("0798"),I=s("8336"),$=s("b0af"),w=s("99d9"),k=s("12b2"),C=s("cc20"),V=s("a523"),y=s("8fea"),S=s("169a"),T=s("0e8f"),O=s("4bd4"),j=s("132d"),P=s("a722"),L=s("9910"),N=s("2677"),U=Object(g["a"])(h,u,m,!1,null,null,null),A=U.exports;_()(U,{VAlert:x["a"],VBtn:I["a"],VCard:$["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:k["a"],VChip:C["a"],VContainer:V["a"],VDataTable:y["a"],VDialog:S["a"],VFlex:T["a"],VForm:O["a"],VIcon:j["a"],VLayout:P["a"],VSpacer:L["a"],VTextField:N["a"]});var G=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);G=Object(c["a"])([Object(d["a"])({components:{CustomerList:A}})],G);var R=G,B=R,q=Object(g["a"])(B,i,a,!1,null,null,null);e["default"]=q.exports},e585:function(t,e,s){"use strict";var i=s("58f1"),a=s.n(i);a.a},ed81:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"users"},[s("user-list")],1)},a=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-form",{ref:"form",attrs:{autocomplete:"off"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("\n            "+t._s(t.formTitle)+"\n          ")])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md9:""}},[s("v-text-field",{attrs:{disabled:!t.isBasicAuth,label:t.$t("Name"),rules:[t.rules.required],required:""},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name","string"===typeof e?e.trim():e)},expression:"editedItem.name"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[s("v-switch",{attrs:{"true-value":"active","false-value":"inactive",label:t.$t("Active")},model:{value:t.editedItem.status,callback:function(e){t.$set(t.editedItem,"status",e)},expression:"editedItem.status"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md9:""}},[s("v-text-field",{attrs:{disabled:!t.isBasicAuth,label:t.$t("Login"),rules:[t.rules.required],required:""},model:{value:t.editedItem.login,callback:function(e){t.$set(t.editedItem,"login","string"===typeof e?e.trim():e)},expression:"editedItem.login"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md9:""}},[s("v-text-field",{attrs:{disabled:!t.isBasicAuth,label:t.$t("Email"),rules:[t.rules.required],required:""},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email","string"===typeof e?e.trim():e)},expression:"editedItem.email"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[s("v-checkbox",{attrs:{label:t.$t("Verified")},model:{value:t.editedItem.email_verified,callback:function(e){t.$set(t.editedItem,"email_verified",e)},expression:"editedItem.email_verified"}})],1),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.isBasicAuth,expression:"isBasicAuth"}],staticClass:"input-group--focused",attrs:{"append-icon":t.showPassword?"visibility_off":"visibility",rules:t.isBasicAuth?[t.rules.min]:[],type:t.showPassword?"text":"password",name:"input-10-2",label:t.$t("Password"),autocomplete:"new-password"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.editedItem.password,callback:function(e){t.$set(t.editedItem,"password",e)},expression:"editedItem.password"}}),s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!t.isBasicAuth,expression:"!isBasicAuth"}],attrs:{disabled:"","append-icon":"visibility",label:t.$t("Password")}})],1),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.isBasicAuth,expression:"isBasicAuth"}],attrs:{"append-icon":t.showPassword?"visibility_off":"visibility",rules:t.isBasicAuth?[t.rules.passwordMatch]:[],type:t.showPassword?"text":"password",name:"input-10-2",label:t.$t("ConfirmPassword"),value:t.editedItem.confirmPassword,autocomplete:"new-password"},on:{"click:append":function(e){t.showPassword=!t.showPassword}}}),s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!t.isBasicAuth,expression:"!isBasicAuth"}],attrs:{disabled:"","append-icon":"visibility",label:t.$t("ConfirmPassword")}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[s("v-select",{attrs:{items:t.allGroups,label:t.$t("Groups"),"item-text":"name","item-value":"id",chips:"",solo:"",multiple:"",disabled:!t.editedId},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{attrs:{selected:e.selected,close:""}},[s("strong",[t._v(t._s(e.item.name))]),t._v("Â \n                      "),s("span",[t._v("("+t._s(t.$t("Group"))+")")])])]}}]),model:{value:t.userGroups,callback:function(e){t.userGroups=e},expression:"userGroups"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[s("v-autocomplete",{attrs:{items:t.allowedRoles,label:t.$t("Roles"),chips:"",clearable:"",solo:"",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{attrs:{selected:e.selected,close:""}},[s("strong",[t._v(t._s(e.item))]),t._v("Â \n                      "),s("span",[t._v("("+t._s(t.$t("role"))+")")])])]}}]),model:{value:t.editedItem.roles,callback:function(e){t.$set(t.editedItem,"roles",e)},expression:"editedItem.roles"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[s("v-text-field",{attrs:{label:t.$t("Comment")},model:{value:t.editedItem.text,callback:function(e){t.$set(t.editedItem,"text","string"===typeof e?e.trim():e)},expression:"editedItem.text"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("\n            "+t._s(t.$t("Cancel"))+"\n          ")]),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.validate}},[t._v("\n            "+t._s(t.$t("Save"))+"\n          ")])],1)],1)],1)],1),s("v-card",[s("v-card-title",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("Users"))+"\n      "),s("v-spacer"),s("v-btn-toggle",{staticClass:"transparent",attrs:{multiple:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[s("v-btn",{attrs:{value:"active",flat:""}},[s("v-tooltip",{attrs:{bottom:""}},[s("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n              check_circle\n            ")]),s("span",[t._v(t._s(t.$t("Active")))])],1)],1),s("v-btn",{attrs:{value:"inactive",flat:""}},[s("v-tooltip",{attrs:{bottom:""}},[s("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n              block\n            ")]),s("span",[t._v(t._s(t.$t("Inactive")))])],1)],1)],1),s("v-spacer"),s("v-flex",{staticClass:"mr-3 pt-3",attrs:{xs3:""}},[s("v-autocomplete",{attrs:{items:t.allowedRoles,label:t.$t("Roles"),chips:"",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{attrs:{selected:e.selected,close:""}},[s("strong",[t._v(t._s(e.item))]),t._v("Â \n              "),s("span",[t._v("("+t._s(t.$t("role"))+")")])])]}}]),model:{value:t.wantRoles,callback:function(e){t.wantRoles=e},expression:"wantRoles"}})],1),s("v-flex",{attrs:{xs6:""}},[s("v-text-field",{attrs:{"append-icon":"search",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.users,pagination:t.pagination,"total-items":t.pagination.totalItems,"rows-per-page-items":t.pagination.rowsPerPageItems,loading:t.isLoading,"must-sort":"","sort-icon":"arrow_drop_down"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),s("td",{staticClass:"text-xs-center"},[s("v-tooltip",{attrs:{top:""}},[s("v-icon",{attrs:{slot:"activator",color:"active"==e.item.status?"primary":""},on:{click:function(s){return t.toggleUserStatus(e.item)}},slot:"activator"},[t._v("\n              "+t._s("active"===e.item.status?"toggle_on":"toggle_off")+"\n            ")]),s("span",[t._v(t._s(t._f("capitalize")(e.item.status)))])],1)],1),s("td",[t._v(t._s(e.item.login))]),s("td",[t._v(t._s(e.item.email))]),s("td",{staticClass:"text-xs-center"},[s("v-tooltip",{attrs:{top:""}},[s("v-icon",{attrs:{slot:"activator"},on:{click:function(s){return t.toggleEmailVerified(e.item)}},slot:"activator"},[t._v("\n              "+t._s(e.item.email_verified?"check_box":"check_box_outline_blank")+"\n            ")]),s("span",[t._v("\n              "+t._s(e.item.email_verified?t.$t("EmailVerified"):t.$t("EmailNotVerified"))+"\n            ")])],1)],1),s("td",t._l(e.item.roles,(function(e){return s("v-chip",{key:e},[s("strong",[t._v(t._s(e))]),t._v("Â \n            "),s("span",[t._v("("+t._s(t.$t("role"))+")")])])})),1),s("td",{staticClass:"text-xs-right"},[s("date-time",{attrs:{value:e.item.createTime,format:"mediumDate"}})],1),s("td",{staticClass:"text-xs-right"},[e.item.lastLogin?s("date-time",{attrs:{value:e.item.lastLogin,format:"mediumDate"}}):t._e()],1),s("td",{staticClass:"text-xs-right"},[t._v("\n          "+t._s(e.item.text)+"\n        ")]),s("td",{staticClass:"text-no-wrap"},[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:users",expression:"'admin:users'",modifiers:{disable:!0}}],staticClass:"btn--plain mr-0",attrs:{icon:""},on:{click:function(s){return t.editItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              edit\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:users",expression:"'admin:users'",modifiers:{disable:!0}}],staticClass:"btn--plain mx-0",attrs:{icon:""},on:{click:function(s){return t.deleteItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              delete\n            ")])],1)],1)]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          "+t._s(t.$t("NoDisplay"))+"\n        ")])],1),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v("\n        "+t._s(t.$t("SearchNoResult1"))+' "'+t._s(t.search)+'" '+t._s(t.$t("SearchNoResult2"))+".\n      ")])],2)],1),s("list-button-add",{directives:[{name:"show",rawName:"v-show",value:t.isBasicAuth,expression:"isBasicAuth"}],attrs:{perms:"admin:users"},on:{"add-to-list":function(e){t.dialog=!0}}})],1)},m=[],p=(s("7f7f"),s("6b54"),s("ac6a"),s("456d"),s("386d"),s("6762"),s("2fdb"),s("6377")),v=s("1711"),f=s("fe0b"),h={components:{DateTime:p["a"],ListButtonAdd:v["a"]},data:function(t){return{status:["active","inactive"],search:"",wantRoles:[],dialog:!1,headers:[{text:f["a"].t("Name"),value:"name"},{text:f["a"].t("Status"),value:"status"},{text:f["a"].t("Login"),value:"login"},{text:f["a"].t("Email"),value:"email"},{text:f["a"].t("VerifiedOrNot"),value:"email_verified"},{text:f["a"].t("Roles"),value:"roles"},{text:f["a"].t("Created"),value:"createTime"},{text:f["a"].t("LastLogin"),value:"lastLogin"},{text:f["a"].t("Comment"),value:"text"},{text:f["a"].t("Actions"),value:"name",sortable:!1}],editedId:null,editedItem:{name:"",status:t.editedId?null:"active",login:"",email:"",email_verified:!1,password:"",confirmPassword:"",roles:[],text:""},editedGroups:null,defaultItem:{name:"",status:t.editedId?null:"active",login:"",email:"",email_verified:!1,password:"",confirmPassword:"",roles:[],text:""},showPassword:!1,rules:{required:function(t){return!!t||f["a"].t("Required")},min:function(e){return t.editedId&&null==e||e&&e.length>=6||f["a"].t("Min6Char")},passwordMatch:function(e){return t.editedId&&null==e||e&&e==t.editedItem.password||f["a"].t("PasswordNotMatch")}}}},computed:{isBasicAuth:function(){return"basic"==this.$config.provider},users:function(){var t=this;return this.$store.state.users.users.filter((function(e){return!t.status||t.status.includes(e.status)})).filter((function(e){return!(t.wantRoles.length>0)||e.roles.some((function(e){return t.wantRoles.includes(e)}))})).filter((function(e){return!t.search||Object.keys(e).some((function(s){return e[s]&&e[s].toString().includes(t.search)}))}))},pagination:{get:function(){return this.$store.getters["users/pagination"]},set:function(t){this.$store.dispatch("users/setPagination",t)}},allGroups:function(){return this.$store.state.groups.groups},userGroups:{get:function(){return this.$store.state.users.groups},set:function(t){this.editedGroups=t}},allowedRoles:function(){return this.$store.getters["perms/roles"]},isLoading:function(){return this.$store.state.users.isLoading},formTitle:function(){return this.editedId?f["a"].t("EditUser"):f["a"].t("NewUser")},refresh:function(){return this.$store.state.refresh}},watch:{dialog:function(t){t||this.close()},refresh:function(t){t||this.getUsers()},pagination:{handler:function(){this.getUsers()},deep:!0}},created:function(){this.getUsers(),this.getGroups(),this.getPerms(),this.editedItem=Object.assign({},this.defaultItem)},methods:{getUsers:function(){this.$store.dispatch("users/getUsers")},getGroups:function(){this.$store.dispatch("groups/getGroups")},getUserGroups:function(t){this.$store.dispatch("users/getUserGroups",t)},getPerms:function(){this.$store.dispatch("perms/getPerms")},toggleUserStatus:function(t){this.$store.dispatch("users/setUserStatus",[t.id,"active"===t.status?"inactive":"active"])},toggleEmailVerified:function(t){this.$store.dispatch("users/setEmailVerified",[t.id,!t.email_verified])},editItem:function(t){this.editedId=t.id,this.editedItem=Object.assign({},t),this.getUserGroups(t.id),this.editedGroups=null,this.$refs.form.resetValidation(),this.dialog=!0},deleteItem:function(t){confirm(f["a"].t("ConfirmDelete"))&&this.$store.dispatch("users/deleteUser",t.id)},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.$refs.form.resetValidation(),t.editedItem=Object.assign({},t.defaultItem),t.editedId=null}),300)},validate:function(){this.$refs.form.validate()&&(this.$refs.form.resetValidation(),this.save())},save:function(){var t=this;if(this.editedId){if(this.$store.dispatch("users/updateUser",[this.editedId,{name:this.editedItem.name,email:this.editedItem.email,password:this.editedItem.password,status:this.editedItem.status,roles:this.editedItem.roles,text:this.editedItem.text,email_verified:this.editedItem.email_verified}]),this.editedGroups){var e=this.editedGroups.filter((function(e){return!t.userGroups.map((function(t){return t.id})).includes(e)})),s=this.userGroups.map((function(t){return t.id})).filter((function(e){return!t.editedGroups.includes(e)}));e.map((function(e){return t.$store.dispatch("groups/addUserToGroup",[e,t.editedId])})),s.map((function(e){return t.$store.dispatch("groups/removeUserFromGroup",[e,t.editedId])}))}}else this.$store.dispatch("users/createUser",this.editedItem);this.close()}}},g=h,b=s("2877"),_=s("6544"),x=s.n(_),I=s("0798"),$=s("c6a6"),w=s("8336"),k=s("a609"),C=s("b0af"),V=s("99d9"),y=s("12b2"),S=s("ac7c"),T=s("cc20"),O=s("a523"),j=s("8fea"),P=s("169a"),L=s("0e8f"),N=s("4bd4"),U=s("132d"),A=s("a722"),G=s("b56d"),R=s("9910"),B=s("b73d"),q=s("2677"),D=s("3a2f"),E=Object(b["a"])(g,u,m,!1,null,null,null),F=E.exports;x()(E,{VAlert:I["a"],VAutocomplete:$["a"],VBtn:w["a"],VBtnToggle:k["a"],VCard:C["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:y["a"],VCheckbox:S["a"],VChip:T["a"],VContainer:O["a"],VDataTable:j["a"],VDialog:P["a"],VFlex:L["a"],VForm:N["a"],VIcon:U["a"],VLayout:A["a"],VSelect:G["a"],VSpacer:R["a"],VSwitch:B["a"],VTextField:q["a"],VTooltip:D["a"]});var M=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);M=Object(c["a"])([Object(d["a"])({components:{UserList:F}})],M);var H=M,J=H,z=Object(b["a"])(J,i,a,!1,null,null,null);e["default"]=z.exports}}]);
//# sourceMappingURL=admin.fe8af951.js.map